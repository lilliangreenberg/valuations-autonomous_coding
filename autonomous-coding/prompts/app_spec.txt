<project_specification>
  <project_name>Meeting Minutes and Action Items Extractor</project_name>

  <overview>
    Build a CLI tool that automatically extracts structured information from meeting transcripts and notes.
    The system will process text files (PDF, MD, TXT) and extract decisions made, action items with owners,
    risks identified, and next steps. Using Anthropic Claude's structured extraction capabilities, the tool
    will generate organized markdown reports with confidence scoring for testing purposes. The tool supports
    batch processing of multiple meeting files and provides user review before finalizing outputs.
  </overview>

  <technology_stack>
    <core_technologies>
      <python>Python 3.12+</python>
      <package_manager>uv for all package management</package_manager>
      <llm_provider>Anthropic Claude (claude-sonnet-4-5 or claude-opus-4-5)</llm_provider>
      <extraction_method>Structured extraction with JSON schema</extraction_method>
    </core_technologies>

    <file_processing>
      <supported_formats>
        - PDF (.pdf) - Text extraction from PDF documents
        - Markdown (.md) - Direct text parsing
        - Plain Text (.txt) - Direct text parsing
      </supported_formats>
      <max_file_size>5MB per file</max_file_size>
      <language_support>English only</language_support>
      <excluded_formats>Audio/video files not supported</excluded_formats>
    </file_processing>

    <output_specifications>
      <format>Structured markdown (.md)</format>
      <storage>File-based only (no database)</storage>
      <location>Configurable output directory (XDG compliant)</location>
      <naming_convention>{meeting_title}_{date}_minutes.md</naming_convention>
    </output_specifications>

    <development_tools>
      <linting>ruff for linting and formatting</linting>
      <type_checking>mypy in strict mode</type_checking>
      <logging>structlog for structured logging</logging>
      <data_validation>pydantic for dataclasses and validation</data_validation>
      <testing>pytest with 95% minimum coverage</testing>
    </development_tools>

    <to_be_determined>
      <pdf_parsing_library>pypdf, pdfplumber, or pymupdf to be selected during implementation</pdf_parsing_library>
      <cli_framework>click, typer, or argparse to be selected during implementation</cli_framework>
      <progress_display>rich or tqdm for progress bars</progress_display>
    </to_be_determined>
  </technology_stack>

  <prerequisites>
    <environment_setup>
      - Python 3.12+ installed
      - uv package manager configured
      - Anthropic API key with Claude access
      - Sufficient API credits for processing
      - Write permissions for output directory
    </environment_setup>

    <project_structure>
      - Follows src/ layout pattern (mandatory)
      - Functional Core / Imperative Shell architecture
      - XDG Base Directory standards for file locations
      - Comprehensive .gitignore for standard file types
    </project_structure>
  </prerequisites>

  <core_features>
    <input_processing>
      - File type detection and validation
      - File size validation (max 5MB)
      - Text extraction from PDF files
      - Direct reading of MD/TXT files
      - UTF-8 encoding handling
      - Language detection (English validation)
      - Batch file processing support
      - Input file queuing and ordering
    </input_processing>

    <meeting_metadata_extraction>
      - Meeting title identification
      - Meeting date extraction
      - Participant list extraction
      - Meeting duration extraction
      - Automatic date format normalization
      - Fallback for missing metadata
    </meeting_metadata_extraction>

    <content_extraction>
      <decisions>
        - Identify all decisions made during meeting
        - Extract decision context and rationale
        - Assign confidence score (0.0-1.0)
        - Link to relevant meeting sections
      </decisions>

      <action_items>
        - Extract actionable tasks
        - Identify task owners/assignees
        - Extract deadlines and due dates
        - Rank by urgency (High/Medium/Low)
        - Assign confidence score (0.0-1.0)
        - Capture dependencies between actions
      </action_items>

      <risks>
        - Identify risks and concerns raised
        - Extract risk severity/impact
        - Capture mitigation strategies mentioned
        - Assign confidence score (0.0-1.0)
      </risks>

      <next_steps>
        - Extract planned next actions
        - Identify responsible parties
        - Extract timeline information
        - Assign confidence score (0.0-1.0)
      </next_steps>
    </content_extraction>

    <urgency_ranking>
      - Automatic urgency classification for action items
      - Criteria: deadline proximity, explicit priority keywords, context analysis
      - Three-tier system: High, Medium, Low
      - Configurable urgency keywords (urgent, ASAP, critical, etc.)
      - Deadline-based ranking (items with closer deadlines rank higher)
    </urgency_ranking>

    <confidence_scoring>
      - Per-item confidence scores (0.0-1.0 scale)
      - Included in output for testing/validation
      - Low confidence items flagged for review
      - Confidence threshold configurable (default: 0.7)
      - Overall extraction quality score
    </confidence_scoring>

    <ambiguity_handling>
      - First attempt: Detect ambiguous/incomplete content
      - Return error with specific issues identified
      - User can retry with --force flag
      - Forced retry: Extract best possible information
      - Mark low-confidence items clearly
      - Suggest manual review sections
    </ambiguity_handling>

    <user_review_workflow>
      - Display extracted content in terminal (formatted)
      - Show confidence scores per section
      - Highlight low-confidence items
      - Prompt for user confirmation (Y/n)
      - Allow editing before saving (optional)
      - Option to skip review with --no-review flag
      - Save only after approval
    </user_review_workflow>

    <batch_processing>
      - Process multiple files in single command
      - Sequential processing with progress tracking
      - Continue on error (with logging)
      - Summary report after batch completion
      - Failed files logged for retry
      - Parallel processing option (optional)
    </batch_processing>

    <output_generation>
      - Generate structured markdown report
      - Standardized template format
      - Table of contents
      - Sections: Metadata, Decisions, Action Items, Risks, Next Steps
      - Confidence scores in collapsible sections
      - Action items sorted by urgency
      - Timestamp and tool version in footer
      - Optional JSON export for programmatic use
    </output_generation>

    <cli_interface>
      - Single file processing mode
      - Batch processing mode
      - Configuration file support
      - Verbose/quiet logging modes
      - Dry-run mode (no file writing)
      - Force mode (skip ambiguity checks)
      - No-review mode (auto-approve)
      - Custom output directory
      - Template customization
    </cli_interface>
  </core_features>

  <data_models>
    <meeting_metadata>
      - title: str
      - date: datetime
      - participants: list[str]
      - duration: timedelta | str
      - source_file: Path
      - processed_at: datetime
    </meeting_metadata>

    <decision>
      - content: str (the decision made)
      - context: str (surrounding context)
      - confidence: float (0.0-1.0)
      - source_section: str (reference to original text)
    </decision>

    <action_item>
      - task: str (description of action)
      - owner: str | None (assigned person/team)
      - deadline: datetime | None
      - urgency: Literal["High", "Medium", "Low"]
      - confidence: float (0.0-1.0)
      - dependencies: list[str] (other action items)
      - status: Literal["extracted"] (for future enhancement)
    </action_item>

    <risk>
      - description: str
      - severity: Literal["High", "Medium", "Low"] | None
      - mitigation: str | None
      - confidence: float (0.0-1.0)
      - raised_by: str | None
    </risk>

    <next_step>
      - description: str
      - responsible_party: str | None
      - timeline: str | None
      - confidence: float (0.0-1.0)
    </next_step>

    <extraction_result>
      - metadata: MeetingMetadata
      - decisions: list[Decision]
      - action_items: list[ActionItem]
      - risks: list[Risk]
      - next_steps: list[NextStep]
      - overall_confidence: float
      - ambiguity_warnings: list[str]
    </extraction_result>

    <processing_status>
      - file_path: Path
      - status: Literal["success", "failed", "skipped"]
      - error_message: str | None
      - output_path: Path | None
      - processing_time: float
    </processing_status>
  </data_models>

  <claude_integration>
    <api_configuration>
      - Model: claude-sonnet-4-5-20251101 (primary), claude-opus-4-5-20251101 (fallback)
      - API key from environment variable (ANTHROPIC_API_KEY)
      - Timeout configuration (60s default)
      - Retry logic with exponential backoff
      - Rate limit handling
    </api_configuration>

    <structured_extraction_approach>
      - Use Anthropic's tool use / structured outputs
      - Define JSON schema for extraction format
      - Single API call per document (efficiency)
      - System prompt with extraction instructions
      - Few-shot examples in prompt (optional)
      - Temperature: 0.0 (deterministic extraction)
      - Max tokens: configurable (default: 4096)
    </structured_extraction_approach>

    <prompt_engineering>
      - Clear instructions for each extraction category
      - Urgency classification criteria
      - Confidence scoring guidelines
      - Ambiguity detection instructions
      - Output format specification
      - Edge case handling rules
    </prompt_engineering>

    <error_handling>
      - API timeout handling
      - Rate limit retry
      - Invalid response handling
      - Partial extraction recovery
      - Token limit exceeded handling
      - Network error recovery
    </error_handling>
  </claude_integration>

  <system_architecture>
    <high_level_design>
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚   CLI Interface     â”‚
      â”‚  - Argument parsing â”‚
      â”‚  - User prompts     â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Batch Processor    â”‚
      â”‚  - File validation  â”‚
      â”‚  - Queue management â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  File Parser        â”‚
      â”‚  - PDF extraction   â”‚
      â”‚  - Text reading     â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Claude Extractor   â”‚
      â”‚  - API calls        â”‚
      â”‚  - Schema validationâ”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Review Interface   â”‚
      â”‚  - Display results  â”‚
      â”‚  - User approval    â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Markdown Generator â”‚
      â”‚  - Template render  â”‚
      â”‚  - File writing     â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    </high_level_design>

    <fc_is_pattern>
      Imperative Shell                 Functional Core
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ File I/O             â”‚â”€â”€â”€â”€â”€â”€â”€>â”‚ Text parsing     â”‚
      â”‚ CLI argument parsing â”‚â”€â”€â”€â”€â”€â”€â”€>â”‚ Extraction logic â”‚
      â”‚ API calls (Claude)   â”‚â”€â”€â”€â”€â”€â”€â”€>â”‚ Ranking/sorting  â”‚
      â”‚ User input/output    â”‚<â”€â”€â”€â”€â”€â”€â”€â”‚ Validation rules â”‚
      â”‚ Markdown writing     â”‚<â”€â”€â”€â”€â”€â”€â”€â”‚ Template logic   â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         Side Effects                    Pure Functions
         (src/meeting_extractor/         (src/meeting_extractor/
          infrastructure/)                core/)
    </fc_is_pattern>

    <processing_flow>
      1. Parse CLI arguments and validate inputs
      2. Load configuration from file/environment
      3. Build file processing queue
      4. For each file:
         a. Validate file size and format
         b. Extract text content
         c. Send to Claude for structured extraction
         d. Validate extraction schema
         e. Rank action items by urgency
         f. Calculate confidence scores
         g. Check for ambiguities (first attempt)
         h. Display for user review
         i. Generate markdown output
         j. Save to file on approval
      5. Generate batch processing summary
      6. Display success/failure statistics
    </processing_flow>

    <error_recovery>
      - Graceful degradation on extraction failures
      - Partial results saved if possible
      - Detailed error logging
      - User-friendly error messages
      - Automatic retry for transient failures
      - Skip and continue for batch processing
    </error_recovery>
  </system_architecture>

  <design_principles>
    <quality_over_speed>
      - Correctness and reliability prioritized
      - Proper error handling mandatory
      - Thorough testing required (95% coverage minimum)
      - Clear, maintainable code
      - Comprehensive logging
    </quality_over_speed>

    <no_backward_compatibility>
      - Breaking changes acceptable during development
      - Always use best current approach
      - Delete old code completely (no deprecation)
      - Refactor aggressively
      - Use latest Python features and patterns
    </no_backward_compatibility>

    <solid_principles>
      - Single Responsibility: One reason to change
      - Open/Closed: Open for extension, closed for modification
      - Liskov Substitution: Derived classes substitutable
      - Interface Segregation: No fat interfaces
      - Dependency Inversion: Depend on abstractions
    </solid_principles>

    <test_driven_development>
      - Tests written before implementation (mandatory)
      - Red-Green-Refactor cycle
      - 95% minimum line coverage
      - 100% coverage for functional core
      - Integration tests for Claude API
      - Mock Claude responses for unit tests
    </test_driven_development>

    <user_experience>
      - Clear progress indicators
      - Helpful error messages
      - Sensible defaults
      - Minimal required configuration
      - Fast feedback loops
      - Professional output formatting
    </user_experience>
  </design_principles>

  <implementation_steps>
    <step number="1">
      <title>Project Foundation</title>
      <tasks>
        - Set up src/ layout project structure
        - Configure uv package management
        - Establish core/ and infrastructure/ separation
        - Configure mypy strict mode, ruff, pytest
        - Create base Pydantic models
        - Set up structlog logging
        - Initialize .gitignore
        - Create pyproject.toml with dependencies
      </tasks>
    </step>

    <step number="2">
      <title>Core Domain Models</title>
      <tasks>
        - Define MeetingMetadata model
        - Define Decision model
        - Define ActionItem model with urgency enum
        - Define Risk model
        - Define NextStep model
        - Define ExtractionResult aggregate model
        - Define ProcessingStatus model
        - Write comprehensive unit tests for models
      </tasks>
    </step>

    <step number="3">
      <title>File Processing Infrastructure</title>
      <tasks>
        - Implement file validation (size, format)
        - Create PDF text extraction
        - Create MD/TXT file reading
        - Implement encoding detection
        - Add language detection (English check)
        - Build file processor abstraction
        - Write tests for all file types
      </tasks>
    </step>

    <step number="4">
      <title>Claude API Integration</title>
      <tasks>
        - Set up Anthropic SDK client
        - Design extraction JSON schema
        - Implement structured extraction function
        - Create prompt templates
        - Add retry logic with exponential backoff
        - Implement rate limiting
        - Write integration tests with mocked API
        - Test with real API (small samples)
      </tasks>
    </step>

    <step number="5">
      <title>Extraction and Ranking Logic</title>
      <tasks>
        - Implement urgency classification algorithm
        - Build confidence scoring calculation
        - Create deadline extraction and parsing
        - Implement ambiguity detection
        - Build validation rules for extracted data
        - Sort action items by urgency
        - Write comprehensive unit tests
      </tasks>
    </step>

    <step number="6">
      <title>Review Workflow</title>
      <tasks>
        - Design terminal output formatter
        - Implement confidence score display
        - Create interactive approval prompt
        - Build low-confidence highlighting
        - Add edit-before-save option (optional)
        - Implement review bypass flag
        - Test user interaction flows
      </tasks>
    </step>

    <step number="7">
      <title>Markdown Output Generation</title>
      <tasks>
        - Create markdown template
        - Implement template rendering
        - Add table of contents generation
        - Format action items table
        - Add confidence score sections
        - Implement file naming convention
        - Create output directory handling
        - Write output generation tests
      </tasks>
    </step>

    <step number="8">
      <title>Batch Processing</title>
      <tasks>
        - Build file queue management
        - Implement sequential processing
        - Add progress tracking display
        - Create error handling for batch
        - Generate batch summary report
        - Log failed files for retry
        - Test batch processing scenarios
      </tasks>
    </step>

    <step number="9">
      <title>CLI Interface</title>
      <tasks>
        - Design CLI argument structure
        - Implement main command
        - Add batch processing mode
        - Create configuration file loading
        - Implement verbosity levels
        - Add dry-run mode
        - Create help documentation
        - Test all CLI options
      </tasks>
    </step>

    <step number="10">
      <title>Configuration and Settings</title>
      <tasks>
        - Design configuration schema
        - Implement XDG directory support
        - Create default configuration
        - Add environment variable support
        - Implement config validation
        - Document configuration options
        - Test configuration loading
      </tasks>
    </step>

    <step number="11">
      <title>Error Handling and Logging</title>
      <tasks>
        - Implement comprehensive error handlers
        - Create user-friendly error messages
        - Set up structured logging
        - Add debug logging mode
        - Create error recovery mechanisms
        - Test error scenarios
        - Document troubleshooting
      </tasks>
    </step>

    <step number="12">
      <title>Testing and Quality Assurance</title>
      <tasks>
        - Achieve 95%+ test coverage
        - Create integration test suite
        - Test with various meeting formats
        - Validate extraction accuracy
        - Test edge cases and errors
        - Performance testing
        - User acceptance testing
      </tasks>
    </step>

    <step number="13">
      <title>Documentation</title>
      <tasks>
        - Write comprehensive README
        - Create user guide
        - Document CLI options
        - Create configuration guide
        - Write API documentation
        - Create troubleshooting guide
        - Add usage examples
        - Write developer documentation
      </tasks>
    </step>

    <step number="14">
      <title>Polish and Release</title>
      <tasks>
        - Final code review
        - Performance optimization
        - Clean up debug code
        - Version tagging
        - Create release notes
        - Package for distribution
        - Create installation instructions
      </tasks>
    </step>
  </implementation_steps>

  <success_criteria>
    <functionality>
      - Successfully process PDF, MD, and TXT files up to 5MB
      - Extract meeting metadata accurately (title, date, participants, duration)
      - Identify and extract decisions with context
      - Extract action items with owners and deadlines
      - Identify and extract risks with mitigation
      - Extract next steps with responsible parties
      - Rank action items by urgency accurately
      - Generate confidence scores for all items
      - Detect ambiguous/incomplete content
      - Support batch processing of multiple files
      - Provide user review workflow
      - Generate well-formatted markdown output
      - Handle errors gracefully
    </functionality>

    <quality_and_standards>
      - 95%+ test coverage across codebase
      - 100% coverage for functional core
      - Zero mypy errors in strict mode
      - Zero ruff linting violations
      - All code follows SOLID principles
      - Clear FC/IS architectural separation
      - Comprehensive documentation
      - All configuration follows XDG standards
    </quality_and_standards>

    <performance>
      - Process typical meeting transcript (&lt;1000 lines) in under 10 seconds
      - Handle maximum file size (5MB) without errors
      - Batch process 10 files efficiently
      - Graceful handling of API rate limits
      - Minimal memory footprint
      - Fast startup time (&lt;1 second)
    </performance>

    <user_experience>
      - Clear and intuitive CLI interface
      - Helpful error messages
      - Visible progress indicators
      - Professional markdown output
      - Easy configuration
      - Minimal setup required
      - Works out of the box with API key
    </user_experience>

    <extraction_quality>
      - High confidence scores (&gt;0.8) for clear content
      - Accurate urgency classification
      - Correct deadline extraction and formatting
      - Complete action item owner identification
      - No hallucinated information
      - Proper ambiguity detection
    </extraction_quality>
  </success_criteria>

  <cli_commands>
    <basic_usage>
      # Process single file
      meeting-extract input.pdf

      # Process single file with custom output
      meeting-extract input.pdf --output /path/to/output.md

      # Batch process multiple files
      meeting-extract file1.pdf file2.md file3.txt

      # Process all files in directory
      meeting-extract meetings/*.pdf
    </basic_usage>

    <advanced_options>
      # Skip user review (auto-approve)
      meeting-extract input.pdf --no-review

      # Force processing of ambiguous content
      meeting-extract input.pdf --force

      # Dry run (don't write files)
      meeting-extract input.pdf --dry-run

      # Verbose output
      meeting-extract input.pdf --verbose

      # Quiet mode (minimal output)
      meeting-extract input.pdf --quiet

      # Custom output directory
      meeting-extract input.pdf --output-dir ./minutes/

      # Use custom configuration file
      meeting-extract input.pdf --config custom-config.toml

      # Export JSON alongside markdown
      meeting-extract input.pdf --json

      # Set confidence threshold
      meeting-extract input.pdf --confidence-threshold 0.6
    </advanced_options>

    <help_and_version>
      # Show help
      meeting-extract --help

      # Show version
      meeting-extract --version
    </help_and_version>
  </cli_commands>

  <output_format_example>
    <markdown_template>
      # Meeting Minutes: [Meeting Title]

      **Date:** [Meeting Date]
      **Duration:** [Duration]
      **Participants:** [Comma-separated list]

      ---

      ## Table of Contents
      1. [Decisions Made](#decisions-made)
      2. [Action Items](#action-items)
      3. [Risks Identified](#risks-identified)
      4. [Next Steps](#next-steps)

      ---

      ## Decisions Made

      ### Decision 1
      [Decision content]

      **Context:** [Additional context]
      **Confidence:** [0.XX]

      ---

      ## Action Items

      | Urgency | Task | Owner | Deadline | Confidence |
      |---------|------|-------|----------|------------|
      | ğŸ”´ High | [Task description] | [Owner] | [Date] | 0.XX |
      | ğŸŸ¡ Medium | [Task description] | [Owner] | [Date] | 0.XX |
      | ğŸŸ¢ Low | [Task description] | [Owner] | [Date] | 0.XX |

      ---

      ## Risks Identified

      ### Risk 1: [Risk description]
      **Severity:** [High/Medium/Low]
      **Mitigation:** [Mitigation strategy if mentioned]
      **Confidence:** [0.XX]

      ---

      ## Next Steps

      1. [Next step description] - [Responsible party] - [Timeline]
         **Confidence:** [0.XX]

      ---

      ## Extraction Metadata

      **Generated by:** Meeting Minutes Extractor v[version]
      **Processed at:** [ISO 8601 timestamp]
      **Source file:** [Original filename]
      **Overall confidence:** [0.XX]

      &lt;details&gt;
      &lt;summary&gt;Low Confidence Items (Click to expand)&lt;/summary&gt;

      [List of items with confidence &lt; threshold]

      &lt;/details&gt;
    </markdown_template>
  </output_format_example>

  <configuration_file_format>
    <example_toml>
      [api]
      provider = "anthropic"
      model = "claude-sonnet-4-5-20251101"
      timeout = 60
      max_retries = 3

      [extraction]
      confidence_threshold = 0.7
      temperature = 0.0
      max_tokens = 4096

      [urgency]
      high_keywords = ["urgent", "ASAP", "critical", "immediate"]
      medium_keywords = ["soon", "important", "priority"]
      low_keywords = ["eventually", "nice to have", "consider"]

      [output]
      directory = "~/Documents/meeting-minutes"
      include_json = false
      include_confidence_scores = true
      template = "default"

      [processing]
      batch_mode = true
      continue_on_error = true
      auto_approve = false
      force_ambiguous = false

      [validation]
      max_file_size_mb = 5
      require_english = true
      min_text_length = 100
    </example_toml>
  </configuration_file_format>

  <open_questions>
    <pdf_library_selection>
      - Which PDF parsing library provides best text extraction?
      - How to handle scanned PDFs (OCR needed)?
      - How to handle multi-column PDF layouts?
    </pdf_library_selection>

    <cli_framework_selection>
      - Click vs Typer vs argparse - which provides best UX?
      - Should we use rich for enhanced terminal output?
      - How to handle interactive vs non-interactive modes?
    </cli_framework_selection>

    <extraction_optimization>
      - Can we reduce API calls for very long documents?
      - Should we chunk large documents?
      - How to handle meeting transcripts vs formal notes differently?
    </extraction_optimization>

    <urgency_algorithm>
      - What keywords indicate high/medium/low urgency?
      - How to weight deadline proximity vs keyword urgency?
      - Should urgency be configurable per user/organization?
    </urgency_algorithm>

    <template_customization>
      - Should users be able to customize markdown templates?
      - Support for multiple output formats (HTML, JSON, etc.)?
      - Organization-specific template requirements?
    </template_customization>

    <future_enhancements>
      - Integration with task management systems (Jira, Asana)?
      - Automatic email distribution of minutes?
      - Version tracking for re-processed meetings?
      - Support for other languages?
      - OCR support for scanned documents?
      - Audio transcription integration?
    </future_enhancements>
  </open_questions>

  <file_types_supported>
    <supported>
      - .pdf - PDF documents (text-based, not scanned)
      - .md - Markdown files
      - .txt - Plain text files
    </supported>

    <explicitly_excluded>
      - Audio files (.mp3, .wav, .m4a, etc.)
      - Video files (.mp4, .avi, .mov, etc.)
      - Scanned PDFs without OCR
      - Image files (.jpg, .png, etc.)
      - Word documents (.docx, .doc)
      - Compressed archives (.zip, .tar, etc.)
    </explicitly_excluded>

    <future_consideration>
      - .docx - Microsoft Word (potential future addition)
      - OCR-processed scanned PDFs
      - Audio transcription preprocessing
    </future_consideration>
  </file_types_supported>

  <security_and_privacy>
    <data_handling>
      - Meeting content sent to Anthropic API
      - Data privacy not a primary concern (per requirements)
      - No local database or persistent storage
      - Output files stored in user-specified location
      - API keys stored in environment variables
      - No telemetry or analytics collection
    </data_handling>

    <recommendations>
      - Use environment variables for API keys (never hardcode)
      - Consider local LLM option for sensitive meetings (future)
      - Inform users that content is sent to third-party API
      - Provide option to review API calls in verbose mode
    </recommendations>
  </security_and_privacy>

  <resources>
    - Anthropic API Documentation: https://docs.anthropic.com/
    - Anthropic Python SDK: https://github.com/anthropics/anthropic-sdk-python
    - Structured Outputs Guide: https://docs.anthropic.com/en/docs/build-with-claude/tool-use
    - XDG Base Directory Spec: https://specifications.freedesktop.org/basedir-spec/latest/
    - Python Packaging Guide: https://packaging.python.org/
  </resources>

  <notes>
    <project_status>
      Currently in specification phase. No implementation started. Ready to begin development.
    </project_status>

    <critical_requirements>
      - MUST use Anthropic Claude for extraction
      - MUST support batch processing
      - MUST provide user review before saving
      - MUST include confidence scoring
      - MUST rank action items by urgency
      - MUST extract deadlines
      - MUST handle ambiguous content appropriately
      - MUST follow XDG standards
      - MUST use src/ layout
      - Test-Driven Development (TDD) required
      - 95% minimum test coverage
    </critical_requirements>

    <design_decisions>
      - Language: English only (per requirements)
      - Max file size: 5MB (per requirements)
      - Storage: File-based only, no database (per requirements)
      - Privacy: Not a concern, third-party API acceptable (per requirements)
      - Audio/Video: Explicitly not supported (per requirements)
      - Review: Required by default, can be skipped with flag (per requirements)
      - Ambiguity: Error first, force retry allowed (per requirements)
    </design_decisions>

    <development_approach>
      - Start with core extraction logic (TDD)
      - Build CLI interface incrementally
      - Test with real meeting transcripts early
      - Iterate on prompt engineering for accuracy
      - Optimize for user experience throughout
      - Document as you build
    </development_approach>
  </notes>
</project_specification>
